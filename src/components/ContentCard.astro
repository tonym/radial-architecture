---
export interface ContentCardProps {
  variant?: 'default' | 'compact';
  title: string;
  href?: string;
  description?: string;
  primaryImage?: string;
}

const { variant = 'default', title, href, description, meta, primaryImage, secondaryImage } = Astro.props;
---

<article class={`content-card content-card--${variant}`}>
  {
    href ? (
      <a href={href} class="content-card__link">
        {primaryImage && (
          <figure class="content-card__media">
            <img src={primaryImage} alt="" loading="lazy" />
            {secondaryImage && <img src={secondaryImage} alt="" class="content-card__media--secondary" loading="lazy" />}
          </figure>
        )}

        <div class="content-card__body">
          <h2 class="content-card__title">{title}</h2>

          {description && <p class="content-card__description">{description}</p>}

          {meta && <p class="content-card__meta">{meta}</p>}
        </div>
        <span class="content-card__cta">Read the article</span>
      </a>
    ) : (
      <span class="content-card__static">
        {primaryImage && (
          <figure class="content-card__media">
            <img src={primaryImage} alt="" loading="lazy" />
            {secondaryImage && <img src={secondaryImage} alt="" class="content-card__media--secondary" loading="lazy" />}
          </figure>
        )}

        <div class="content-card__body">
          <h2 class="content-card__title">{title}</h2>

          {description && <p class="content-card__description">{description}</p>}

          {meta && <p class="content-card__meta">{meta}</p>}
        </div>
      </span>
    )
  }
</article>

<style>
  .content-card__cta {
    display: inline-block;
    margin-top: 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: underline;
  }
</style>
